#$ TITLE: Quad66 tune 1S 3 inch 1203 or (13mm) motors 48 khz 60gm AUW
#$ FIRMWARE_VERSION: 4.4
#$ CATEGORY: TUNE
#$ STATUS: COMMUNITY
#$ KEYWORDS: 1S, 3 inch, tune, quad66
#$ AUTHOR: Quad66
#$ DESCRIPTION: High performance tune by Quad66.
#$ DESCRIPTION:
#$ DESCRIPTION: Quad66 filter preset highly recommended 
#$ DESCRIPTION:
#$ DESCRIPTION: Dynamic idle (biderection Dshot required)
#$ DESCRIPTION:
#$ DESCRIPTION: 48 khz ESC frequency highly recommended 
#$ DESCRIPTION:
#$ DESCRIPTION: Feed Forward smoothing, jitter reduction, and averaging must be apropriate for you Rx link. By convention set by CTsnooze, I have these settings in the Quadd66 ELRS link preset. If you are on other Rx Links, please use one of the presets by CTsnooze.  
#$ DESCRIPTION:
#$ DESCRIPTION: For F411 boards the Quad66 Setup Base is recommended.
#$ DESCRIPTION:
#$ DESCRIPTION: Tune developed on WP 120 V4 frame, Flywoo 1203 motors, Emax Avia props, TuneRC 1S board, HM EP2 RX, namelessRC nano VTX, LDARC 199C cam, WarPig slammed TPU canopy, GNB 720mah HV red label 
#$ DESCRIPTION:
#$ DESCRIPTION: 60 gm AUW
#$ DESCRIPTION:
#$ DESCRIPTION: Tune also checked on FPVcycle 13mm teal motors and black box looks very good as well.

# -- PID values --
set p_pitch = 110
set i_pitch = 197
set d_pitch = 93
set f_pitch = 294

set p_roll = 111
set i_roll = 198
set d_roll = 89
set f_roll = 297

set p_yaw = 111
set i_yaw = 198
set f_yaw = 297

set d_min_roll = 67
set d_min_pitch = 68


# -- Sliders --
set simplified_master_multiplier = 155
set simplified_d_gain = 145
set simplified_pi_gain = 160
set simplified_feedforward_gain = 160
set simplified_pitch_d_gain = 90
set simplified_pitch_pi_gain = 95


# -- Dmax --
set d_max_gain = 0
set d_max_advance = 0

# -- Thrust Linearization --
set thrust_linear = 25


# -- PIDsum limits --
set pidsum_limit = 1000

# -- Dshot RPM telemetry --
set dshot_bidir = ON
set motor_pwm_protocol = DSHOT300
set motor_poles = 12

# -- Dynamic idle ON at 3500 rpm --
set dyn_idle_min_rpm = 35


# -- VBat sag compensation --
set vbat_sag_compensation = 100
set vbat_max_cell_voltage = 440